Package rand

Overview ▾

Package rand implements pseudo-random number generators.
Random numbers are generated by a Source. 
Top-level functions, such as Float64 and Int, use a default shared Source that produces a deterministic sequence of values each time a program is run. 
Use the Seed function to initialize the default Source if different behavior is required for each run. 
The default Source is safe for concurrent use by multiple goroutines.
rand 包实现伪随机数发生器。
由一个Source产生随机数。
顶级函数,例如 Float64和Int, 使用一个默认的共享Source 产生值的确定序列中的每个程序运行的时间.
使用 Seed函数来初始化默认Source 如果需要为每个运行不同的行为。
默认Source 是安全的 由多个Go例程同时使用。


▹ Example
package main

import (
	"fmt"
	"math/rand"
)

func main() {
	rand.Seed(42) // Try changing this number!
	answers := []string{
		"It is certain",
		"It is decidedly so",
		"Without a doubt",
		"Yes definitely",
		"You may rely on it",
		"As I see it yes",
		"Most likely",
		"Outlook good",
		"Yes",
		"Signs point to yes",
		"Reply hazy try again",
		"Ask again later",
		"Better not tell you now",
		"Cannot predict now",
		"Concentrate and ask again",
		"Don't count on it",
		"My reply is no",
		"My sources say no",
		"Outlook not so good",
		"Very doubtful",
	}
	fmt.Println("Magic 8-Ball says:", answers[rand.Intn(len(answers))])
}


▹ Example (Rand)
This example shows the use of each of the methods on a *Rand. 
The use of the global functions is the same, without the receiver.
这个例子展示了在 一个*Rand上的每个方法的使用.
全局函数的使用也是一样的, 不包含 接收器


package main

import (
	"fmt"
	"math/rand"
	"os"
	"text/tabwriter"
)

func main() {
	// Create and seed the generator.
	// Typically a non-fixed seed should be used, such as time.Now().UnixNano().
	// Using a fixed seed will produce the same output on every run.
	//创建和种子生成
	//通常情况下 应该用一个 非固定的种子,例如  time.Now().UnixNano().
	//使用一个固定的种子 会在每次运行时 产生相同的输出
	r := rand.New(rand.NewSource(99))

	// The tabwriter here helps us generate aligned output.
	//这里的tabwriter帮助我们生成对齐输出。
	w := tabwriter.NewWriter(os.Stdout, 1, 1, 1, ' ', 0)
	defer w.Flush()
	show := func(name string, v1, v2, v3 interface{}) {
		fmt.Fprintf(w, "%s\t%v\t%v\t%v\n", name, v1, v2, v3)
	}

	// Float32 and Float64 values are in [0, 1).
	//Float32和 Float64值 在 [0, 1).
	show("Float32", r.Float32(), r.Float32(), r.Float32())
	show("Float64", r.Float64(), r.Float64(), r.Float64())

	// ExpFloat64 values have an average of 1 but decay exponentially.
	//ExpFloat64值平均是1，但以指数形式衰减。
	show("ExpFloat64", r.ExpFloat64(), r.ExpFloat64(), r.ExpFloat64())

	// NormFloat64 values have an average of 0 and a standard deviation of 1.
	//NormFloat64值平均为0和1的标准偏差。
	show("NormFloat64", r.NormFloat64(), r.NormFloat64(), r.NormFloat64())

	// Int31, Int63, and Uint32 generate values of the given width.
	// The Int method (not shown) is like either Int31 or Int63
	// depending on the size of 'int'.
	//Int31, Int63, and Uint32 使用给定的宽度生成值
	//Int方法 类似 Int31或 Int63
	//取决于  'int'大小.
	show("Int31", r.Int31(), r.Int31(), r.Int31())
	show("Int63", r.Int63(), r.Int63(), r.Int63())
	show("Uint32", r.Int63(), r.Int63(), r.Int63())

	// Intn, Int31n, and Int63n limit their output to be < n.
	// They do so more carefully than using r.Int()%n.
	//
	show("Intn(10)", r.Intn(10), r.Intn(10), r.Intn(10))
	show("Int31n(10)", r.Int31n(10), r.Int31n(10), r.Int31n(10))
	show("Int63n(10)", r.Int63n(10), r.Int63n(10), r.Int63n(10))

	// Perm generates a random permutation of the numbers [0, n).
	show("Perm", r.Perm(5), r.Perm(5), r.Perm(5))
}


func ExpFloat64

func ExpFloat64() float64
ExpFloat64 returns an exponentially distributed float64 in the range (0, +math.MaxFloat64] with an exponential distribution whose rate parameter (lambda) is 1 and whose mean is 1/lambda (1) from the default Source. To produce a distribution with a different rate parameter, callers can adjust the output using:

sample = ExpFloat64() / desiredRateParameter
func Float32

func Float32() float32
Float32 returns, as a float32, a pseudo-random number in [0.0,1.0) from the default Source.

func Float64

func Float64() float64
Float64 returns, as a float64, a pseudo-random number in [0.0,1.0) from the default Source.

func Int

func Int() int
Int returns a non-negative pseudo-random int from the default Source.

func Int31

func Int31() int32
Int31 returns a non-negative pseudo-random 31-bit integer as an int32 from the default Source.

func Int31n

func Int31n(n int32) int32
Int31n returns, as an int32, a non-negative pseudo-random number in [0,n) from the default Source. It panics if n <= 0.

func Int63

func Int63() int64
Int63 returns a non-negative pseudo-random 63-bit integer as an int64 from the default Source.

func Int63n

func Int63n(n int64) int64
Int63n returns, as an int64, a non-negative pseudo-random number in [0,n) from the default Source. It panics if n <= 0.

func Intn

func Intn(n int) int
Intn returns, as an int, a non-negative pseudo-random number in [0,n) from the default Source. It panics if n <= 0.

func NormFloat64

func NormFloat64() float64
NormFloat64 returns a normally distributed float64 in the range [-math.MaxFloat64, +math.MaxFloat64] with standard normal distribution (mean = 0, stddev = 1) from the default Source. To produce a different normal distribution, callers can adjust the output using:

sample = NormFloat64() * desiredStdDev + desiredMean
func Perm

func Perm(n int) []int
Perm returns, as a slice of n ints, a pseudo-random permutation of the integers [0,n) from the default Source.

func Seed

func Seed(seed int64)
Seed uses the provided seed value to initialize the default Source to a deterministic state. If Seed is not called, the generator behaves as if seeded by Seed(1).

func Uint32

func Uint32() uint32
Uint32 returns a pseudo-random 32-bit value as a uint32 from the default Source.

type Rand

type Rand struct {
        // contains filtered or unexported fields
}
A Rand is a source of random numbers.

func New

func New(src Source) *Rand
New returns a new Rand that uses random values from src to generate other random values.

func (*Rand) ExpFloat64

func (r *Rand) ExpFloat64() float64
ExpFloat64 returns an exponentially distributed float64 in the range (0, +math.MaxFloat64] with an exponential distribution whose rate parameter (lambda) is 1 and whose mean is 1/lambda (1). To produce a distribution with a different rate parameter, callers can adjust the output using:

sample = ExpFloat64() / desiredRateParameter
func (*Rand) Float32

func (r *Rand) Float32() float32
Float32 returns, as a float32, a pseudo-random number in [0.0,1.0).

func (*Rand) Float64

func (r *Rand) Float64() float64
Float64 returns, as a float64, a pseudo-random number in [0.0,1.0).

func (*Rand) Int

func (r *Rand) Int() int
Int returns a non-negative pseudo-random int.

func (*Rand) Int31

func (r *Rand) Int31() int32
Int31 returns a non-negative pseudo-random 31-bit integer as an int32.

func (*Rand) Int31n

func (r *Rand) Int31n(n int32) int32
Int31n returns, as an int32, a non-negative pseudo-random number in [0,n). It panics if n <= 0.

func (*Rand) Int63

func (r *Rand) Int63() int64
Int63 returns a non-negative pseudo-random 63-bit integer as an int64.

func (*Rand) Int63n

func (r *Rand) Int63n(n int64) int64
Int63n returns, as an int64, a non-negative pseudo-random number in [0,n). It panics if n <= 0.

func (*Rand) Intn

func (r *Rand) Intn(n int) int
Intn returns, as an int, a non-negative pseudo-random number in [0,n). It panics if n <= 0.

func (*Rand) NormFloat64

func (r *Rand) NormFloat64() float64
NormFloat64 returns a normally distributed float64 in the range [-math.MaxFloat64, +math.MaxFloat64] with standard normal distribution (mean = 0, stddev = 1). To produce a different normal distribution, callers can adjust the output using:

sample = NormFloat64() * desiredStdDev + desiredMean
func (*Rand) Perm

func (r *Rand) Perm(n int) []int
Perm returns, as a slice of n ints, a pseudo-random permutation of the integers [0,n).

func (*Rand) Seed

func (r *Rand) Seed(seed int64)
Seed uses the provided seed value to initialize the generator to a deterministic state.

func (*Rand) Uint32

func (r *Rand) Uint32() uint32
Uint32 returns a pseudo-random 32-bit value as a uint32.

type Source

type Source interface {
        Int63() int64
        Seed(seed int64)
}
A Source represents a source of uniformly-distributed pseudo-random int64 values in the range [0, 1<<63).

func NewSource

func NewSource(seed int64) Source
NewSource returns a new pseudo-random Source seeded with the given value.

type Zipf

type Zipf struct {
        // contains filtered or unexported fields
}
A Zipf generates Zipf distributed variates.

func NewZipf

func NewZipf(r *Rand, s float64, v float64, imax uint64) *Zipf
NewZipf returns a Zipf generating variates p(k) on [0, imax] proportional to (v+k)**(-s) where s>1 and k>=0, and v>=1.

func (*Zipf) Uint64

func (z *Zipf) Uint64() uint64
Uint64 returns a value drawn from the Zipf distribution described by the Zipf object.





